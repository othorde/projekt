{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";//components\nimport Map from'../../components/Map/index';//Styles\nimport{Container,Nav,MapContainer,StyledBtn,StyledImg}from'./Form.styles';//other\nimport Api from'../../Api';import fullyChargedBike from'../../images/fullyChargedBike.png';import halfChargedBike from'../../images/halfchargedbike.png';import noChargeBike from'../../images/noChargeBike.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initalValue={loadScooters:false,content:[],error:false};var initalValueLoadCitys={loadCity:false};var initalValueLoadStations={loadStation:false};var initalValueParkingZone={loadParkingZone:false};/* Admin hämtar scootrar var 10 sekund. Visar också tre knappar för om användaren vill se städer, \n\tladdstationer eller parkingszoner på kartan */var Admin=function Admin(){var _useState=useState(initalValue),_useState2=_slicedToArray(_useState,2),ifToShowScooter=_useState2[0],setIfToShowScooter=_useState2[1];var _useState3=useState(initalValueLoadCitys),_useState4=_slicedToArray(_useState3,2),ifToShowCity=_useState4[0],setIfToShowCity=_useState4[1];var _useState5=useState(initalValueLoadStations),_useState6=_slicedToArray(_useState5,2),ifToShowLoadStations=_useState6[0],setIfToShowLoadStations=_useState6[1];var _useState7=useState(initalValueParkingZone),_useState8=_slicedToArray(_useState7,2),ifToShowParkingZone=_useState8[0],setIfToShowParkingZone=_useState8[1];// vid mount, anropa getScooters samt var 10 sekund\nuseEffect(function(){var getScooters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Api.getAllScooters();case 3:res=_context.sent;setIfToShowScooter({loadScooters:true,content:res,error:false});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setIfToShowScooter({loadScooters:true,content:[\"\"],error:true});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getScooters(){return _ref.apply(this,arguments);};}();getScooters();var interval=setInterval(function(){getScooters();},10000);return function(){clearInterval(interval);};},[]);/* Dessa tre funktionerna togglar state, vilket tar bort eller lägger till elementen på kartan */var getCitys=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIfToShowCity(function(prevState){return{loadCity:!prevState.loadCity};});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function getCitys(){return _ref2.apply(this,arguments);};}();var getLoadStations=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIfToShowLoadStations(function(prevState){return{loadStation:!prevState.loadStation};});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function getLoadStations(){return _ref3.apply(this,arguments);};}();var getParkingZone=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setIfToShowParkingZone(function(prevState){return{loadParkingZone:!prevState.loadParkingZone};});case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function getParkingZone(){return _ref4.apply(this,arguments);};}();/* skickar states till map, så map vet vad som ska visas */return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(StyledBtn,{onClick:getCitys,children:\" St\\xE4der \"}),/*#__PURE__*/_jsx(StyledBtn,{onClick:getLoadStations,children:\" Laddstationer \"}),/*#__PURE__*/_jsx(StyledBtn,{onClick:getParkingZone,children:\"  Parkeringszoner \"}),/*#__PURE__*/_jsxs(StyledImg,{children:[/*#__PURE__*/_jsx(\"img\",{src:fullyChargedBike,alt:\"fully charged bike\",width:\"60%\",height:\"10%\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",fontSize:\"0.9em\"},children:\" MINST 75% \"}),/*#__PURE__*/_jsx(\"img\",{src:halfChargedBike,alt:\"fully charged bike\",width:\"60%\",height:\"10%\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",fontSize:\"0.9em\"},children:\" 25-75% \"}),/*#__PURE__*/_jsx(\"img\",{src:noChargeBike,alt:\"fully charged bike\",width:\"60%\",height:\"10%\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontWeight:\"bold\",fontSize:\"0.9em\"},children:\" MINDRE \\xC4N 25%\"})]})]}),/*#__PURE__*/_jsx(MapContainer,{children:/*#__PURE__*/_jsx(Map,{ifToShowScooter:ifToShowScooter,ifToShowCity:ifToShowCity,ifToShowLoadStations:ifToShowLoadStations,ifToShowParkingZone:ifToShowParkingZone})})]});};export default Admin;","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/routes/Admin/index.js"],"names":["React","useState","useEffect","Map","Container","Nav","MapContainer","StyledBtn","StyledImg","Api","fullyChargedBike","halfChargedBike","noChargeBike","initalValue","loadScooters","content","error","initalValueLoadCitys","loadCity","initalValueLoadStations","loadStation","initalValueParkingZone","loadParkingZone","Admin","ifToShowScooter","setIfToShowScooter","ifToShowCity","setIfToShowCity","ifToShowLoadStations","setIfToShowLoadStations","ifToShowParkingZone","setIfToShowParkingZone","getScooters","getAllScooters","res","interval","setInterval","clearInterval","getCitys","prevState","getLoadStations","getParkingZone","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\n//components\nimport Map from '../../components/Map/index';\n//Styles\nimport {\n\tContainer, \n\tNav, \n\tMapContainer, \n\tStyledBtn,\n\tStyledImg\n} from './Form.styles';\n//other\nimport Api from '../../Api';\nimport fullyChargedBike from '../../images/fullyChargedBike.png';\nimport halfChargedBike from '../../images/halfchargedbike.png';\nimport noChargeBike from '../../images/noChargeBike.png';\n\nlet initalValue = {\n\tloadScooters: false,\n\tcontent: [],\n\terror: false\n}\nlet initalValueLoadCitys = {\n\tloadCity: false,\n}\nlet initalValueLoadStations = {\n\tloadStation: false,\n}\n\nlet initalValueParkingZone = {\n\tloadParkingZone: false,\n}\n\n/* Admin hämtar scootrar var 10 sekund. Visar också tre knappar för om användaren vill se städer, \n\tladdstationer eller parkingszoner på kartan */\nconst Admin = () => {\n\tconst [ifToShowScooter, setIfToShowScooter] = useState(initalValue);\n\tconst [ifToShowCity, setIfToShowCity] = useState(initalValueLoadCitys);\n\tconst [ifToShowLoadStations, setIfToShowLoadStations] = useState(initalValueLoadStations);\n\tconst [ifToShowParkingZone, setIfToShowParkingZone] = useState(initalValueParkingZone);\n\n\t// vid mount, anropa getScooters samt var 10 sekund\n\tuseEffect(()=>{\n\t\t\n\t\tconst getScooters = async() => {\n\t\t\ttry {\n\t\t\t\tlet res = await Api.getAllScooters();  \n\t\t\t\tsetIfToShowScooter({\n\t\t\t\t\tloadScooters: true,\n\t\t\t\t\tcontent: res,\n\t\t\t\t\terror: false\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tsetIfToShowScooter({\n\t\t\t\t\tloadScooters: true,\n\t\t\t\t\tcontent: [\"\"],\n\t\t\t\t\terror: true\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\tgetScooters()\n\t\tconst interval=setInterval(()=>{\n\t\t\tgetScooters()\n\t\t }, 10000)\n\t\t   \n\t\treturn()=>{\n\t\t\tclearInterval(interval)\n\t\t}\n\n\t},[])\n\n\t/* Dessa tre funktionerna togglar state, vilket tar bort eller lägger till elementen på kartan */\n\tconst getCitys = async() => {\n\t\tsetIfToShowCity(prevState => ({\n\t\t\tloadCity: !prevState.loadCity,\n\t\t}));\n\t}\n\n\tconst getLoadStations = async() => {\n\t\tsetIfToShowLoadStations(prevState => ({\n\t\t\tloadStation: !prevState.loadStation,\n\t\t}));\n\t}\n\n\tconst getParkingZone = async() => {\n\t\tsetIfToShowParkingZone(prevState => ({\n\t\t\tloadParkingZone: !prevState.loadParkingZone,\n\t\t}));\n\t}\n\n\t/* skickar states till map, så map vet vad som ska visas */\n\treturn (\n\t\t<Container>\n\t\t\t<Nav>\n\t\t\t\t<StyledBtn onClick= {getCitys}> Städer </StyledBtn>\n\t\t\t\t<StyledBtn onClick= {getLoadStations}> Laddstationer </StyledBtn>\n\t\t\t\t<StyledBtn onClick= {getParkingZone}>  Parkeringszoner </StyledBtn>\n\t\t\t\t<StyledImg>\n\t\t\t\t\t<img src={fullyChargedBike} alt=\"fully charged bike\" width=\"60%\" height=\"10%\" />\n\t\t\t\t\t<p style={{fontWeight: \"bold\", fontSize: \"0.9em\"}}> MINST 75% </p>\n\t\t\t\t\t<img src={halfChargedBike} alt=\"fully charged bike\" width=\"60%\" height=\"10%\" />\n\t\t\t\t\t<p style={{fontWeight: \"bold\", fontSize: \"0.9em\"}}> 25-75% </p>\n\t\t\t\t\t<img src={noChargeBike} alt=\"fully charged bike\" width=\"60%\" height=\"10%\" />\n\t\t\t\t\t<p style={{fontWeight: \"bold\", fontSize: \"0.9em\"}}> MINDRE ÄN 25%</p>\n\t\t\t\t</StyledImg>\n\n\t\t\t</Nav>\n\t\t\t<MapContainer>\n\t\t\t\t<Map \n\t\t\t\t\tifToShowScooter={ifToShowScooter}\n\t\t\t\t\tifToShowCity={ifToShowCity} \n\t\t\t\t\tifToShowLoadStations={ifToShowLoadStations} \n\t\t\t\t\tifToShowParkingZone={ifToShowParkingZone} >\n\t\t\t\t</Map>\n\t\t\t</MapContainer>\n\t\t</Container>\n\t)\n}\n\nexport default Admin\n\n"]},"metadata":{},"sourceType":"module"}