{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Api from '../Api';\n/* Hämtar alla städer */\n\nexport const useFetchAllCities = () => {\n  _s();\n\n  const [cities, setCities] = useState();\n  const [loadingCities, setLoadingCities] = useState();\n  const [messageCities, setMessageCities] = useState();\n\n  const fetchData = async () => {\n    try {\n      setLoadingCities(true);\n      const allCities = await Api.getAllCitys();\n      allCities.length > 0 ? setCities(allCities) : setMessageCities(\"Städerna kunde ej läsas in\");\n    } catch (error) {\n      setMessageCities(\"Något gick fel med hämtningen från servern\");\n    }\n\n    setLoadingCities(false);\n  };\n  /* Kör funktionen endast vid mount */\n\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return {\n    cities,\n    loadingCities,\n    messageCities\n  };\n}; // /* Hämtar städer */\n// useEffect(() => {\n// \tconst getAllCities = async () => {\n// \tlet allCities = await Api.getAllCitys();\n// \tallCities.forEach(element => {\n// \t\tsetAllCharging_posts(element.charging_posts)\n// \t\tsetAllParkingZones(element.parking_zones)\n// \t\t});\n// \t}\n// \tgetAllCities()\n// \tcheckAllUsersTrips()\n// }, [user, state, loading, error, message])\n\n_s(useFetchAllCities, \"jlGbhCpbhCAi+5RQLYOQ1kO0Opg=\");","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/Hooks/useFetchAllCities.js"],"names":["useState","useEffect","Api","useFetchAllCities","cities","setCities","loadingCities","setLoadingCities","messageCities","setMessageCities","fetchData","allCities","getAllCitys","length","error"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,OAAOC,GAAP,MAAgB,QAAhB;AAEA;;AACA,OAAO,MAAOC,iBAAiB,GAAG,MAAM;AAAA;;AAEvC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,EAApC;AACA,QAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,EAAlD;AACA,QAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,EAAlD;;AAEA,QAAMU,SAAS,GAAG,YAAY;AACvB,QAAI;AACAH,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,YAAMI,SAAS,GAAG,MAAMT,GAAG,CAACU,WAAJ,EAAxB;AACAD,MAAAA,SAAS,CAACE,MAAV,GAAmB,CAAnB,GAAuBR,SAAS,CAACM,SAAD,CAAhC,GAA8CF,gBAAgB,CAAC,4BAAD,CAA9D;AAEH,KALD,CAKE,OAAOK,KAAP,EAAc;AACZL,MAAAA,gBAAgB,CAAC,4CAAD,CAAhB;AACH;;AACDF,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,GAVJ;AAYA;;;AACAN,EAAAA,SAAS,CAAC,MAAM;AACfS,IAAAA,SAAS;AACT,GAFQ,EAEN,EAFM,CAAT;AAIA,SAAO;AAACN,IAAAA,MAAD;AAASE,IAAAA,aAAT;AAAwBE,IAAAA;AAAxB,GAAP;AACA,CAxBM,C,CAiCP;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;GA9CcL,iB","sourcesContent":["import {useState, useEffect } from 'react'\nimport Api from '../Api';\n\n/* Hämtar alla städer */\nexport const  useFetchAllCities = () => {\n\n\tconst [cities, setCities] = useState();\n\tconst [loadingCities, setLoadingCities] = useState();\n\tconst [messageCities, setMessageCities] = useState();\n\n\tconst fetchData = async () => {\n        try {\n            setLoadingCities(true)\n            const allCities = await Api.getAllCitys()\n            allCities.length > 0 ? setCities(allCities) : setMessageCities(\"Städerna kunde ej läsas in\");\n            \n        } catch (error) {\n            setMessageCities(\"Något gick fel med hämtningen från servern\")\n        }\n        setLoadingCities(false)\n    }\n    \n\t/* Kör funktionen endast vid mount */\n\tuseEffect(() => {\n\t\tfetchData()\n\t}, [])\n\n\treturn {cities, loadingCities, messageCities}\n}\n\n\n\n\n\n\n\n\n// /* Hämtar städer */\n// useEffect(() => {\n// \tconst getAllCities = async () => {\n\n// \tlet allCities = await Api.getAllCitys();\n// \tallCities.forEach(element => {\n// \t\tsetAllCharging_posts(element.charging_posts)\n// \t\tsetAllParkingZones(element.parking_zones)\n// \t\t});\n// \t}\n// \tgetAllCities()\n// \tcheckAllUsersTrips()\n\n// }, [user, state, loading, error, message])"]},"metadata":{},"sourceType":"module"}