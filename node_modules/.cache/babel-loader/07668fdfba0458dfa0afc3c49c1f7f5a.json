{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{React,useState,useEffect,useContext}from\"react\";//components\nimport User from\"../../components/User/index.js\";import Payment from\"../../components/Payment/index.js\";//styles\nimport{Container,UserInfoContainer,PaymentContainer,Christmas}from\"./Form.styles.js\";import christmas from\"../../images/christmas.jpg\";//Other\nimport Api from\"../../Api.js\";import AppContext from\"../../AppContext.js\";/* Sidan account. Hämtar användaren från useContext, skickar vidare infon till komponenterna */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Account=function Account(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userDetails=_useState2[0],setUserDetails=_useState2[1];// användaruppg\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userDetailsError=_useState4[0],setUserDetailsError=_useState4[1];//Om error\nvar myContext=useContext(AppContext);var user=myContext.userHook;// hook hämtar vissa anv uppg\n/* Hämtar användaruppg från servern (vid mount samt om usern ändras) */useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setUserDetailsError(false);if(!(user&&user.value.id)){_context.next=12;break;}_context.prev=2;_context.next=5;return Api.getAUser(user.value.id);case 5:res=_context.sent;setUserDetails(res);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);setUserDetailsError(true);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _fetchData.apply(this,arguments);}fetchData();},[user]);return/*#__PURE__*/_jsx(Container,{children:!userDetailsError?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(UserInfoContainer,{children:[/*#__PURE__*/_jsx(User,{userDetails:userDetails,children:\" \"}),/*#__PURE__*/_jsxs(Christmas,{children:[/*#__PURE__*/_jsx(\"img\",{src:christmas,alt:\"download google\",width:\"100%\",height:\"100%\"}),/*#__PURE__*/_jsx(\"div\",{className:\"middle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"H\\xE5ll utkik... snart b\\xF6rjar mellandagsrean! \"})})]})]}),/*#__PURE__*/_jsx(PaymentContainer,{children:/*#__PURE__*/_jsx(Payment,{userDetails:userDetails})})]}):/*#__PURE__*/_jsx(\"p\",{children:\" N\\xE5got gick fel vid h\\xE4mtningen fr\\xE5n servern\"})});};export default Account;","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/routes/Account/index.js"],"names":["React","useState","useEffect","useContext","User","Payment","Container","UserInfoContainer","PaymentContainer","Christmas","christmas","Api","AppContext","Account","userDetails","setUserDetails","userDetailsError","setUserDetailsError","myContext","user","userHook","fetchData","value","id","getAUser","res"],"mappings":"8bAAA,OAAQA,KAAR,CAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,UAApC,KAAqD,OAArD,CACA;AACA,MAAOC,CAAAA,IAAP,KAAiB,gCAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mCAApB,CACA;AACA,OAASC,SAAT,CAAoBC,iBAApB,CAAuCC,gBAAvC,CAAyDC,SAAzD,KAA0E,kBAA1E,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA;AACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qBAAvB,CAEA,+F,6IACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAElB,cAAqCZ,QAAQ,CAAC,IAAD,CAA7C,wCAAMa,WAAN,eAAmBC,cAAnB,eAAqD;AACxD,eAA+Cd,QAAQ,CAAC,IAAD,CAAvD,yCAAMe,gBAAN,eAAwBC,mBAAxB,eAA+D;AAC/D,GAAMC,CAAAA,SAAS,CAAGf,UAAU,CAACS,UAAD,CAA5B,CACA,GAAMO,CAAAA,IAAI,CAAGD,SAAS,CAACE,QAAvB,CAAiC;AAEjC,uEACGlB,SAAS,CAAC,UAAM,SACGmB,CAAAA,SADH,qIACZ,2IACLJ,mBAAmB,CAAC,KAAD,CAAnB,CADK,KAEFE,IAAI,EAAIA,IAAI,CAACG,KAAL,CAAWC,EAFjB,iEAIaZ,CAAAA,GAAG,CAACa,QAAJ,CAAaL,IAAI,CAACG,KAAL,CAAWC,EAAxB,CAJb,QAICE,GAJD,eAKHV,cAAc,CAACU,GAAD,CAAd,CALG,+EAOHR,mBAAmB,CAAC,IAAD,CAAnB,CAPG,oEADY,4CAYZI,SAAS,GACf,CAbW,CAaV,CAACF,IAAD,CAbU,CAAT,CAeH,mBACC,KAAC,SAAD,WAEE,CAACH,gBAAD,cACD,wCACC,MAAC,iBAAD,yBACC,KAAC,IAAD,EAAM,WAAW,CAAEF,WAAnB,eADD,cAEE,MAAC,SAAD,yBACC,YAAK,GAAG,CAAEJ,SAAV,CAAqB,GAAG,CAAC,iBAAzB,CAA2C,KAAK,CAAC,MAAjD,CAAwD,MAAM,CAAC,MAA/D,EADD,cAEC,YAAK,SAAS,CAAC,QAAf,uBACC,YAAK,SAAS,CAAC,MAAf,+DADD,EAFD,GAFF,GADD,cAUC,KAAC,gBAAD,wBACC,KAAC,OAAD,EAAS,WAAW,CAAEI,WAAtB,EADD,EAVD,GADC,cAeA,2EAjBF,EADD,CAqBA,CA5CD,CA8CA,cAAeD,CAAAA,OAAf","sourcesContent":["import {React, useState, useEffect, useContext} from \"react\";\n//components\nimport User from \"../../components/User/index.js\";\nimport Payment from \"../../components/Payment/index.js\";\n//styles\nimport { Container, UserInfoContainer, PaymentContainer, Christmas } from \"./Form.styles.js\";\nimport christmas from \"../../images/christmas.jpg\"\n//Other\nimport Api from \"../../Api.js\";\nimport AppContext from \"../../AppContext.js\";\n\n/* Sidan account. Hämtar användaren från useContext, skickar vidare infon till komponenterna */\nconst Account = () => {\n\n    const[userDetails, setUserDetails] = useState(null); // användaruppg\n\tconst[userDetailsError, setUserDetailsError] = useState(null); //Om error\n\tconst myContext = useContext(AppContext); \n\tconst user = myContext.userHook; // hook hämtar vissa anv uppg\n\n\t/* Hämtar användaruppg från servern (vid mount samt om usern ändras) */\n    useEffect(() => {\n        async function fetchData() {\n\t\t\tsetUserDetailsError(false);\n\t\t\tif(user && user.value.id) {\n\t\t\t\ttry {\n\t\t\t\t\tlet res = await Api.getAUser(user.value.id);\n\t\t\t\t\tsetUserDetails(res);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetUserDetailsError(true);\n\t\t\t\t}\n\t\t\t}\n        }\n        fetchData();\n\t},[user])\n\n\treturn (\n\t\t<Container>\n\t\t\t{/* Sålänge det ej är error från hämtningen, visar upp infon */}\n\t\t\t{!userDetailsError ? \n\t\t\t<>\n\t\t\t\t<UserInfoContainer>\n\t\t\t\t\t<User userDetails={userDetails}> </User>\n\t\t\t\t\t\t<Christmas>\n\t\t\t\t\t\t\t<img src={christmas} alt=\"download google\" width=\"100%\" height=\"100%\"/>\n\t\t\t\t\t\t\t<div className=\"middle\">\n\t\t\t\t\t\t\t\t<div className=\"text\">Håll utkik... snart börjar mellandagsrean! </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Christmas>\n\t\t\t\t</UserInfoContainer>\n\t\t\t\t<PaymentContainer>\n\t\t\t\t\t<Payment userDetails={userDetails}></Payment>\n\t\t\t\t</PaymentContainer>\n\t\t\t</>\n\t\t\t:<p> Något gick fel vid hämtningen från servern</p>}\n\t\t</Container>\n\t);\n}\n\nexport default Account\n"]},"metadata":{},"sourceType":"module"}