{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\src\\\\components\\\\Payment\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from \"react\"; //components\n\nimport Api from \"../../api.js\"; //styles\n\nimport { Content, Delimiter, StylePayment } from \"./Form.styles.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValue = {\n  showMsgSubs: false,\n  showMsgOnePay: false,\n  msg: \"\"\n};\n\nconst Payment = props => {\n  _s();\n\n  const [msgForUser, setMsgForUser] = useState(initialValue);\n  const [onePayment, setOnePayment] = useState(0);\n  console.log(props); // KOLLA vad meddelandena blir från backend\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    let showMsgSubs = false;\n    let showMsgOnePay = false;\n    let msg = \"\";\n    let result;\n    let id;\n    let currentBalance;\n    let newBalance;\n\n    if (onePayment && typeof (props.userDetails.data._id, String)) {\n      currentBalance = props.userDetails.data.balance;\n      newBalance = parseInt(currentBalance) + parseInt(onePayment);\n      showMsgOnePay = true;\n      id = props.userDetails.data._id;\n\n      if (newBalance) {\n        result = await Api.updateUserFunds(newBalance, id);\n        console.log(result, \"hääär\");\n        msg = \"Din insättning har gått igenom\";\n      }\n    } else {\n      msg = \"Något gick fel... testa igen senare (id)\";\n    }\n\n    if (result !== true) {\n      msg = \"Något gick fel... testa igen senare\";\n    }\n\n    setMsgForUser({\n      showMsgSubs: showMsgSubs,\n      showMsgOnePay: showMsgOnePay,\n      msg: msg\n    });\n    setOnePayment(0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Content, {\n    children: /*#__PURE__*/_jsxDEV(StylePayment, {\n      children: [msgForUser.showMsgOnePay ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: msgForUser.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 41\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", \"Sätt in valfritt belopp \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"register\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Belopp att s\\xE4tta in\",\n            type: \"number\",\n            name: \"onepayment\",\n            required: true,\n            value: onePayment || \"\",\n            onChange: e => setOnePayment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Delimiter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"S\\xE4tt in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Payment, \"FGMBtm5QczWBQtriYr9/MNYd5z0=\");\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/components/Payment/index.js"],"names":["React","useState","Api","Content","Delimiter","StylePayment","initialValue","showMsgSubs","showMsgOnePay","msg","Payment","props","msgForUser","setMsgForUser","onePayment","setOnePayment","console","log","handleSubmit","event","preventDefault","result","id","currentBalance","newBalance","userDetails","data","_id","String","balance","parseInt","updateUserFunds","e","target","value"],"mappings":"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","sourcesContent":["import {React, useState} from \"react\";\n//components\nimport Api from \"../../api.js\";\n//styles\nimport { Content, Delimiter, StylePayment} from \"./Form.styles.js\";\n\nconst initialValue = {\n    showMsgSubs: false,\n    showMsgOnePay: false,\n    msg: \"\"\n}\n\nconst Payment = (props) => {\n    const [msgForUser, setMsgForUser] = useState(initialValue);\n    const [onePayment, setOnePayment] = useState(0);\n\n    console.log(props)\n    // KOLLA vad meddelandena blir från backend\n    const handleSubmit = async (event)  => {\n        event.preventDefault();\n\n        let showMsgSubs = false;\n        let showMsgOnePay = false;\n        let msg = \"\";\n        let result;\n        let id;\n        let currentBalance;\n        let newBalance;\n\n        if (onePayment && typeof(props.userDetails.data._id, String)) {\n\n            currentBalance = props.userDetails.data.balance;\n            newBalance = parseInt(currentBalance) + parseInt(onePayment);\n            showMsgOnePay = true;\n            id = props.userDetails.data._id;\n            if (newBalance) {\n                result = await Api.updateUserFunds(newBalance, id);\n                console.log(result, \"hääär\")\n                msg = \"Din insättning har gått igenom\";\n            }\n        } else {\n            msg = \"Något gick fel... testa igen senare (id)\"\n        } \n        if (result !== true) {\n            msg = \"Något gick fel... testa igen senare\"\n        } \n        setMsgForUser({ \n            showMsgSubs: showMsgSubs,\n            showMsgOnePay: showMsgOnePay,\n            msg: msg,\n        })\n        setOnePayment(0);\n    }\n\n\treturn (\n        <Content>\n            <StylePayment>\n            {msgForUser.showMsgOnePay ? <p>{msgForUser.msg}</p> : (<p> {\"Sätt in valfritt belopp \"}</p>)}\n            <form onSubmit={handleSubmit} className = \"register\">\n                <label>\n                <input\n                    placeholder=\"Belopp att sätta in\"\n                    type=\"number\" \n                    name=\"onepayment\"\n                    required\n                    value={onePayment || \"\"} \n                    onChange={(e) => setOnePayment(e.target.value)}\n                />\n                </label>\n                <Delimiter></Delimiter>\n                <input type=\"submit\" value=\"Sätt in\" />\n            </form>\n            </StylePayment>\n\n        </Content>\n\t);\n}\n\nexport default Payment\n\n"]},"metadata":{},"sourceType":"module"}