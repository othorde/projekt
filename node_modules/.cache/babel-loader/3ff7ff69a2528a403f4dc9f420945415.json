{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\src\\\\components\\\\User\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport Api from \"../../api\";\nimport { Content, UserInfo } from \"./Form.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet data = [{\n  id: \"1\",\n  tag: \"customer\",\n  firstName: \"Johanna\",\n  sirName: \"Persson\",\n  email: \"johanna@example.se\",\n  trips: [{\n    id: \"1\",\n    date: \"2021-11-08\",\n    price: \"25\",\n    start: {\n      position: {\n        lat: \"56.164527\",\n        long: \"15.584790\"\n      },\n      time: \"16:08\"\n    },\n    stop: {\n      position: {\n        lat: \"56.164527\",\n        long: \"15.584790\"\n      },\n      time: \"16:22\"\n    }\n  }, {\n    id: \"2\",\n    date: \"2021-11-09\",\n    price: \"55\",\n    start: {\n      position: {\n        lat: \"56.164527\",\n        long: \"15.584790\"\n      },\n      time: \"12:04\"\n    },\n    stop: {\n      position: {\n        lat: \"56.164527\",\n        long: \"15.584790\"\n      },\n      time: \"12:44\"\n    }\n  }],\n  balance: \"500\"\n}];\nconst initialValue = {\n  username: \"Could not get information\",\n  email: \"\",\n  totalCost: \"\",\n  firstTrip: \"\",\n  lastTrip: \"\",\n  balance: \"\"\n};\nexport default function User() {\n  _s();\n\n  // get user by username\n  // Kanske får hämta data redan vid inlogg, \n  // ska ändå hämtas för att kolla om user eller admin\n  const [userHistory, setUserHistory] = useState(initialValue);\n  useEffect(() => {\n    if (data[0]) {\n      data = data[0];\n    }\n\n    if (data && data.trips.length > 0) {\n      let totalCost = 0;\n      let firstTrip;\n      let totalNumberOfTrips;\n      let lastTrip;\n      data.trips.forEach(elem => {\n        totalCost += parseInt(elem.price);\n      });\n      firstTrip = data.trips[0].date;\n      totalNumberOfTrips = data.trips.length;\n      lastTrip = data.trips[totalNumberOfTrips - 1].date;\n      console.log(firstTrip, totalNumberOfTrips, lastTrip);\n      setUserHistory({\n        username: data.firstName + \" \" + data.sirName,\n        email: data.email,\n        totalCost: totalCost,\n        firstTrip: firstTrip,\n        totalNumberOfTrips: totalNumberOfTrips,\n        lastTrip: lastTrip,\n        balance: data.balance\n      });\n    }\n  }, []);\n  console.log(userHistory);\n  return /*#__PURE__*/_jsxDEV(Content, {\n    children: /*#__PURE__*/_jsxDEV(UserInfo, {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n          children: \"Dina uppgifter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Namn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"E-post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"F\\xF6rsta resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Senaste resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Antal resor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Total kostnad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"P\\xE5 kontot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Namn\",\n              children: [\" \", userHistory.username, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Email\",\n              children: [\" \", userHistory.email, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"F\\xF6rsta resan\",\n              children: [\" \", userHistory.firstTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Senaste Resan\",\n              children: [\" \", userHistory.lastTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Antal resor\",\n              children: [userHistory.totalNumberOfTrips, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Total kostnad\",\n              children: [userHistory.totalCost, \":- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"P\\xE5 kontot\",\n              children: [userHistory.balance, \":- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 9\n  }, this);\n}\n\n_s(User, \"FkxQoF+hmm4ge5czRb8dkVdtKXY=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/components/User/index.js"],"names":["React","useEffect","useState","Api","Content","UserInfo","data","id","tag","firstName","sirName","email","trips","date","price","start","position","lat","long","time","stop","balance","initialValue","username","totalCost","firstTrip","lastTrip","User","userHistory","setUserHistory","length","totalNumberOfTrips","forEach","elem","parseInt","console","log"],"mappings":"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","sourcesContent":["import {React, useEffect, useState} from \"react\";\nimport Api from \"../../api\";\nimport {Content, UserInfo} from \"./Form.style\"\n\nlet data = [\n    {\n        id: \"1\",\n        tag: \"customer\",\n        firstName: \"Johanna\",\n        sirName: \"Persson\",\n        email: \"johanna@example.se\",\n        trips: [\n            {\n                id: \"1\",\n                date: \"2021-11-08\",\n                price: \"25\",\n                start: {\n                    position: {\n                        lat: \"56.164527\",\n                        long: \"15.584790\"\n                    },\n                    time: \"16:08\"\n                },\n                stop: {\n                    position: {\n                        lat: \"56.164527\",\n                        long: \"15.584790\"\n                    },\n                    time: \"16:22\"\n                }\n            },\n            {\n                id: \"2\",\n                date: \"2021-11-09\",\n                price: \"55\",\n                start: {\n                    position: {\n                        lat: \"56.164527\",\n                        long: \"15.584790\"\n                    },\n                    time: \"12:04\"\n                },\n                stop: {\n                    position: {\n                        lat: \"56.164527\",\n                        long: \"15.584790\"\n                    },\n                    time: \"12:44\"\n                }\n            }\n        ],\n        balance: \"500\"\n    }\n]\n\n\nconst initialValue = {\n    username: \"Could not get information\",\n    email: \"\",\n    totalCost: \"\",\n    firstTrip: \"\",\n    lastTrip: \"\",\n    balance: \"\"\n}\n\nexport default function User() {\n    // get user by username\n    // Kanske får hämta data redan vid inlogg, \n    // ska ändå hämtas för att kolla om user eller admin\n    const [userHistory, setUserHistory] = useState(initialValue);\n\n    useEffect(() => {\n        if (data[0]) {\n            data = data[0];\n        }\n        if(data && data.trips.length > 0) {\n            let totalCost = 0;\n            let firstTrip;\n            let totalNumberOfTrips;\n            let lastTrip;\n\n            data.trips.forEach(elem => {\n                totalCost += parseInt(elem.price);\n            });\n            \n            firstTrip = data.trips[0].date;\n            totalNumberOfTrips = data.trips.length;\n            lastTrip = data.trips[totalNumberOfTrips-1].date;\n            console.log(firstTrip, totalNumberOfTrips, lastTrip)\n            setUserHistory(({\n                username: data.firstName + \" \" + data.sirName,\n                email: data.email,\n                totalCost: totalCost,\n                firstTrip: firstTrip,\n                totalNumberOfTrips: totalNumberOfTrips,\n                lastTrip: lastTrip,\n                balance: data.balance\n            }));\n        } \n    }, [])\n\n    console.log(userHistory)\n\treturn (\n        <Content>   \n            <UserInfo> \n                <table>\n                <caption>Dina uppgifter</caption>\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Namn</th>\n                        <th scope=\"col\">E-post</th>\n                        <th scope=\"col\">Första resan</th>\n                        <th scope=\"col\">Senaste resan</th>\n                        <th scope=\"col\">Antal resor</th>\n                        <th scope=\"col\">Total kostnad</th>\n                        <th scope=\"col\">På kontot</th>\n\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                    <td data-label=\"Namn\"> {userHistory.username} </td>\n                    <td data-label=\"Email\"> {userHistory.email} </td>\n                    <td data-label=\"Första resan\"> {userHistory.firstTrip} </td>\n                    <td data-label=\"Senaste Resan\"> {userHistory.lastTrip} </td>\n                    <td data-label=\"Antal resor\">{userHistory.totalNumberOfTrips} </td>\n                    <td data-label=\"Total kostnad\">{userHistory.totalCost}:- </td>\n                    <td data-label=\"På kontot\">{userHistory.balance}:- </td>\n                    </tr>\n                </tbody>\n                </table>\n            </UserInfo>\n        </Content>\n\t);\n}"]},"metadata":{},"sourceType":"module"}