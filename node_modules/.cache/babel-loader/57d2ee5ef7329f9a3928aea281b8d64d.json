{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\n/* Denna används av Map komponenten. Hämtar användarens position \n   Options är hur länge location ska sparas, tas alltså mot av Map.\n*/\n\nconst useCurrentPosition = function () {\n  _s();\n\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const [location, setLocation] = useState(\"\");\n  const [error, setError] = useState(); // Om det går att hämta position\n\n  const handleSucces = pos => {\n    const {\n      latitude,\n      longitude\n    } = pos.coords;\n    setLocation({\n      latitude,\n      longitude\n    });\n  };\n\n  const handleError = error => {\n    setError(error.message);\n  }; // Vid mount eller om options ändras.\n  // skickar till handelSuccess & error \n\n\n  useEffect(() => {\n    const {\n      geolocation\n    } = navigator;\n\n    if (!geolocation) {\n      setError(\"Geolocation not supported\");\n      return;\n    }\n\n    geolocation.getCurrentPosition(handleSucces, handleError, options);\n  }, [options]);\n  return {\n    location,\n    error\n  };\n};\n\n_s(useCurrentPosition, \"llsKOgLFsW0bFQfowmiRf2c8gHw=\");\n\nexport default useCurrentPosition;","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/Hooks/useCurrentPosition.js"],"names":["useState","useEffect","useCurrentPosition","options","location","setLocation","error","setError","handleSucces","pos","latitude","longitude","coords","handleError","message","geolocation","navigator","getCurrentPosition"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AAEA;AACA;AACA;;AACA,MAAMC,kBAAkB,GAAG,YAAgB;AAAA;;AAAA,MAAfC,OAAe,uEAAP,EAAO;AAEvC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,EAAlC,CAHuC,CAKvC;;AACA,QAAMQ,YAAY,GAAIC,GAAD,IAAS;AAC1B,UAAM;AAACC,MAAAA,QAAD;AAAWC,MAAAA;AAAX,QAAyBF,GAAG,CAACG,MAAnC;AACAP,IAAAA,WAAW,CAAC;AACRK,MAAAA,QADQ;AAERC,MAAAA;AAFQ,KAAD,CAAX;AAIH,GAND;;AAQA,QAAME,WAAW,GAAIP,KAAD,IAAW;AAC3BC,IAAAA,QAAQ,CAACD,KAAK,CAACQ,OAAP,CAAR;AACH,GAFD,CAduC,CAkBvC;AACA;;;AACAb,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAM;AAACc,MAAAA;AAAD,QAAgBC,SAAtB;;AACA,QAAI,CAACD,WAAL,EAAkB;AACdR,MAAAA,QAAQ,CAAC,2BAAD,CAAR;AACA;AACH;;AACDQ,IAAAA,WAAW,CAACE,kBAAZ,CAA+BT,YAA/B,EAA6CK,WAA7C,EAA0DV,OAA1D;AACH,GAPQ,EAOP,CAACA,OAAD,CAPO,CAAT;AASA,SAAO;AAACC,IAAAA,QAAD;AAAWE,IAAAA;AAAX,GAAP;AACH,CA9BD;;GAAMJ,kB;;AA+BN,eAAeA,kBAAf","sourcesContent":["import {useState, useEffect} from 'react';\n\n/* Denna används av Map komponenten. Hämtar användarens position \n   Options är hur länge location ska sparas, tas alltså mot av Map.\n*/\nconst useCurrentPosition = (options={}) => {\n\n    const [location, setLocation] = useState(\"\");\n    const [error, setError] = useState();\n    \n    // Om det går att hämta position\n    const handleSucces = (pos) => {\n        const {latitude, longitude } = pos.coords;\n        setLocation({\n            latitude,\n            longitude\n        });\n    };\n\n    const handleError = (error) => {\n        setError(error.message);\n    };\n\n    // Vid mount eller om options ändras.\n    // skickar till handelSuccess & error \n    useEffect(() => {\n        const {geolocation} = navigator;\n        if (!geolocation) {\n            setError(\"Geolocation not supported\")\n            return;\n        }\n        geolocation.getCurrentPosition(handleSucces, handleError, options)\n    },[options])\n    \n    return {location, error};\n};\nexport default useCurrentPosition;"]},"metadata":{},"sourceType":"module"}