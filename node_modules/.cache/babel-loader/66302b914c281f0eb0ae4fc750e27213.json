{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{React,useState,useEffect}from'react';import{Routes,Route,Navigate}from\"react-router-dom\";import Loader from'./components/Loader';import AppContext from'./AppContext';import Header from'./components/Header';import Footer from'./components/Footer';import LandingPage from'./routes/LandingPage';import FormLogin from'./routes/FormLogin';import Account from\"./routes/Account\";import Admin from\"./routes/Admin\";import Welcome from'./routes/welcome/welcome';import Home from'./routes/Home';import UserHistory from'./routes/History';import Customers from'./routes/Customers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userHook=_useState2[0],setUserHook=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userLocal=_useState4[0],setUserLocal=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),auth=_useState6[0],setAuth=_useState6[1];// för att se om användare är inloggad\nuseEffect(function(){var loggedInUser=localStorage.getItem(\"user\");var tag=localStorage.getItem(\"tag\");var id=localStorage.getItem(\"id\");if(loggedInUser&&tag){loggedInUser=JSON.parse(loggedInUser);setUserLocal({user:loggedInUser,tag:tag,id:id});}},[]);function PrivateRoute(_ref){var children=_ref.children;return auth===true?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}// sätter auth true/false, om false kan man ej logga in\n// skickar med den i useContext, så andra komponenter kan nyttja den\nvar toggleAuth=function toggleAuth(value){setAuth(value);};// Togglar state, skickar med den i useContext, \n// så andra komponenter kan nyttja den\nvar setUserValues=function setUserValues(value){setUserHook({value:value});};/* Appcontext, fungerar som globala variabler */var userInfo={setUserValues:setUserValues,toggleAuth:toggleAuth,userLocal:userLocal,userHook:userHook,auth:auth};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(AppContext.Provider,{value:userInfo,children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Welcome,{})}),/*#__PURE__*/_jsx(Route,{path:\"login/landingpage\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(FormLogin,{})}),/*#__PURE__*/_jsx(Route,{path:\"login/home\",element:/*#__PURE__*/_jsxs(PrivateRoute,{children:[\" \",/*#__PURE__*/_jsx(Home,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"account\",element:/*#__PURE__*/_jsxs(PrivateRoute,{children:[/*#__PURE__*/_jsx(Account,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"history\",element:/*#__PURE__*/_jsxs(PrivateRoute,{children:[\" \",/*#__PURE__*/_jsx(UserHistory,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"customers\",element:/*#__PURE__*/_jsxs(PrivateRoute,{children:[\" \",/*#__PURE__*/_jsx(Customers,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"admin\",element:/*#__PURE__*/_jsxs(PrivateRoute,{children:[\" \",/*#__PURE__*/_jsx(Admin,{}),\" \"]})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Loader,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});}","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/App.js"],"names":["React","useState","useEffect","Routes","Route","Navigate","Loader","AppContext","Header","Footer","LandingPage","FormLogin","Account","Admin","Welcome","Home","UserHistory","Customers","App","userHook","setUserHook","userLocal","setUserLocal","auth","setAuth","loggedInUser","localStorage","getItem","tag","id","JSON","parse","user","PrivateRoute","children","toggleAuth","value","setUserValues","userInfo"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from 'react';\nimport { Routes, Route, Navigate } from \"react-router-dom\";\n\nimport Loader from './components/Loader';\nimport AppContext from './AppContext';\nimport Header from './components/Header';\nimport Footer from './components/Footer'\nimport LandingPage from './routes/LandingPage';\nimport FormLogin from './routes/FormLogin';\nimport Account from \"./routes/Account\";\nimport Admin from \"./routes/Admin\";\nimport Welcome from './routes/welcome/welcome';\nimport Home from './routes/Home';\nimport UserHistory from './routes/History';\nimport Customers from './routes/Customers';\n\n\nexport default function App() {\n\n\tconst [userHook, setUserHook] = useState(\"\");\n\tconst [userLocal, setUserLocal] = useState(\"\");\n\tconst [auth, setAuth] = useState({}); // för att se om användare är inloggad\n\n\tuseEffect(() => {\n\t\tlet loggedInUser = localStorage.getItem(\"user\");\n\t\tlet tag = localStorage.getItem(\"tag\");\n\t\tlet id = localStorage.getItem(\"id\");\n\n\t\tif (loggedInUser && tag) {\n\t\t\tloggedInUser = JSON.parse(loggedInUser)\n\t\t\tsetUserLocal({user: loggedInUser, tag: tag, id:id});\n\t\t}\n\t  }, []);\n\n\tfunction PrivateRoute({ children }) {\n\t\treturn auth === true ? children : <Navigate to=\"/login\" />;\n\t}  \n\n\t// sätter auth true/false, om false kan man ej logga in\n\t// skickar med den i useContext, så andra komponenter kan nyttja den\n    const toggleAuth = (value) => {\n\t\tsetAuth(value)\n    };\n\n\t// Togglar state, skickar med den i useContext, \n\t// så andra komponenter kan nyttja den\n\tconst setUserValues = (value) => {\n\t\tsetUserHook({value})\n    };\n\n\t/* Appcontext, fungerar som globala variabler */\n\tconst userInfo = {\n\t\tsetUserValues,\n\t\ttoggleAuth,\n\t\tuserLocal: userLocal,\n\t\tuserHook: userHook,\n\t\tauth: auth\n\t}\n\n\treturn (\n\t<>\n\t<AppContext.Provider value={userInfo}>\n\t\t<Header/>\n\t\t<Routes>\n\t\t\t<Route path=\"/\" element={ <Welcome/>} />\n\t\t\t<Route path=\"login/landingpage\" element={ <LandingPage/>} />\n\t\t\t<Route path=\"login\" element={ <FormLogin/> } />\n\t\t\t<Route path=\"login/home\" element={ <PrivateRoute> <Home/> </PrivateRoute>} />\n\t\t\t<Route path=\"account\" element={ <PrivateRoute><Account/> </PrivateRoute>} />\n\t\t\t<Route path=\"history\" element={ <PrivateRoute> <UserHistory/> </PrivateRoute>} />\n\t\t\t<Route path=\"customers\" element={ <PrivateRoute> <Customers/> </PrivateRoute>} />\n\t\t\t<Route path=\"admin\" element={<PrivateRoute> <Admin/> </PrivateRoute>} >\n\t\t\t</Route>\n\t\t\t<Route path=\"*\" element={ <Loader/>}/>\n\t\t</Routes>\n\t\t<Footer/>\n\t</AppContext.Provider>\n\n\t</>\n\t)\n}\n\n"]},"metadata":{},"sourceType":"module"}