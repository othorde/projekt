{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\src\\\\components\\\\User\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport { Content, UserInfo } from \"./Form.style\";\n/* sätter alla värden initialt till loading, i väntan på att den ska bli klar */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValue = {\n  username: \"Loading...\",\n  email: \"Loading...\",\n  totalCost: \"Loading...\",\n  firstTrip: \"Loading...\",\n  totalNumberOfTrips: \"Loading...\",\n  lastTrip: \"Loading...\",\n  balance: \"Loading...\"\n};\nexport default function User(_ref) {\n  _s();\n\n  let {\n    userDetails\n  } = _ref;\n  const [userInfo, setUserInfo] = useState(initialValue);\n  console.log(userDetails);\n  /* vid mount och om userDetails ändras så sätt värden. \n     Sätter generaliserade värden och senare specifika om användaren gjort resor\n  */\n\n  useEffect(() => {\n    let data;\n\n    if (userDetails) {\n      data = userDetails.data;\n      setUserInfo({\n        username: data.username,\n        totalCost: \"0\",\n        firstTrip: \"Du har ännu inte gjort någon resa\",\n        totalNumberOfTrips: \"Du har ännu inte gjort någon resa \",\n        lastTrip: \"Du har ännu inte gjort någon resa \",\n        balance: data.balance\n      });\n    }\n\n    if (data && data.trips.length > 0) {\n      let totalCost = 0;\n      let firstTrip;\n      let totalNumberOfTrips;\n      let lastTrip;\n      data.trips.forEach(elem => {\n        totalCost += parseInt(elem.price);\n      });\n      firstTrip = data.trips[0].date;\n      totalNumberOfTrips = data.trips.length;\n      lastTrip = data.trips[totalNumberOfTrips - 1].date;\n      setUserInfo({\n        username: data.username,\n        totalCost: totalCost,\n        firstTrip: firstTrip,\n        totalNumberOfTrips: totalNumberOfTrips,\n        lastTrip: lastTrip,\n        balance: data.balance\n      });\n    }\n  }, [userDetails]);\n  /* Populerar tabell */\n\n  return /*#__PURE__*/_jsxDEV(Content, {\n    children: /*#__PURE__*/_jsxDEV(UserInfo, {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n          children: \"Dina uppgifter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Anv\\xE4ndarnamn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"F\\xF6rsta resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Senaste resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Antal resor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"P\\xE5 kontot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Anv\\xE4ndarnamn\",\n              children: [\" \", userInfo.username, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"F\\xF6rsta resan\",\n              children: [\" \", userInfo.firstTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Senasteresan\",\n              children: [\" \", userInfo.lastTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Antal resor\",\n              children: [userInfo.totalNumberOfTrips, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"P\\xE5 kontot\",\n              children: [userInfo.balance, \":- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }, this)]\n          }, userInfo.username, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(User, \"Ph34tpQTHQ6PERcEhfj4LrcPgyM=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/components/User/index.js"],"names":["React","useEffect","useState","Content","UserInfo","initialValue","username","email","totalCost","firstTrip","totalNumberOfTrips","lastTrip","balance","User","userDetails","userInfo","setUserInfo","console","log","data","trips","length","forEach","elem","parseInt","price","date"],"mappings":"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","sourcesContent":["import {React, useEffect, useState} from \"react\";\nimport {Content, UserInfo} from \"./Form.style\"\n\n/* sätter alla värden initialt till loading, i väntan på att den ska bli klar */\nconst initialValue = {\n    username: \"Loading...\",\n    email: \"Loading...\",\n    totalCost: \"Loading...\",\n    firstTrip: \"Loading...\",\n    totalNumberOfTrips: \"Loading...\",\n    lastTrip: \"Loading...\",\n    balance: \"Loading...\"\n}\n\nexport default function User({userDetails}) {\n\n    const [userInfo, setUserInfo] = useState(initialValue);\n    console.log(userDetails)\n    /* vid mount och om userDetails ändras så sätt värden. \n       Sätter generaliserade värden och senare specifika om användaren gjort resor\n    */\n    useEffect(() => {\n        let data;\n        if (userDetails) {\n            data = userDetails.data;\n            setUserInfo(({\n                username: data.username,\n                totalCost: \"0\",\n                firstTrip: \"Du har ännu inte gjort någon resa\",\n                totalNumberOfTrips: \"Du har ännu inte gjort någon resa \",\n                lastTrip: \"Du har ännu inte gjort någon resa \",\n                balance: data.balance\n            }));\n        }\n        if(data && data.trips.length > 0) {\n            let totalCost = 0;\n            let firstTrip;\n            let totalNumberOfTrips;\n            let lastTrip;\n\n            data.trips.forEach(elem => {\n                totalCost += parseInt(elem.price);\n            });\n            \n            firstTrip = data.trips[0].date;\n            totalNumberOfTrips = data.trips.length;\n            lastTrip = data.trips[totalNumberOfTrips-1].date;\n\n            setUserInfo(({\n                username: data.username,\n                totalCost: totalCost,\n                firstTrip: firstTrip,\n                totalNumberOfTrips: totalNumberOfTrips,\n                lastTrip: lastTrip,\n                balance: data.balance\n            }));\n        } \n    }, [userDetails])\n\n    /* Populerar tabell */\n\treturn (\n        <Content>\n            {\n            <UserInfo> \n                <table>\n                <caption>Dina uppgifter</caption>\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Användarnamn</th>\n                        <th scope=\"col\">Första resan</th>\n                        <th scope=\"col\">Senaste resan</th>\n                        <th scope=\"col\">Antal resor</th>\n                        <th scope=\"col\">På kontot</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr key={userInfo.username}>\n                    <td data-label=\"Användarnamn\"> {userInfo.username} </td>\n                    <td data-label=\"Första resan\"> {userInfo.firstTrip} </td>\n                    <td data-label=\"Senasteresan\"> {userInfo.lastTrip} </td>\n                    <td data-label=\"Antal resor\">{userInfo.totalNumberOfTrips} </td>\n                    <td data-label=\"På kontot\">{userInfo.balance}:- </td>\n                    </tr>\n                </tbody>\n                </table>\n            </UserInfo>\n            }\n        </Content>\n\t);\n}"]},"metadata":{},"sourceType":"module"}