{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\src\\\\components\\\\User\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport Api from \"../../api\";\nimport { Content, UserInfo } from \"./Form.style\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function User(props) {\n  _s();\n\n  // get user by username\n  // Kanske får hämta data redan vid inlogg, \n  // ska ändå hämtas för att kolla om user eller admin\n  const [userInfo, setUserInfo] = useState(null);\n  let data;\n  useEffect(() => {\n    async function populateData() {\n      if (props.userDetails) {\n        data = props.userDetails.data;\n      }\n\n      if (data && data.trips) {\n        let totalCost = 0;\n        let firstTrip;\n        let totalNumberOfTrips;\n        let lastTrip;\n        data.trips.forEach(elem => {\n          totalCost += parseInt(elem.price);\n        });\n        firstTrip = data.trips[0].date;\n        totalNumberOfTrips = data.trips.length;\n        lastTrip = data.trips[totalNumberOfTrips - 1].date;\n        setUserInfo({\n          username: data.username,\n          totalCost: totalCost,\n          firstTrip: firstTrip,\n          totalNumberOfTrips: totalNumberOfTrips,\n          lastTrip: lastTrip,\n          balance: data.balance\n        });\n      }\n    }\n\n    populateData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Content, {\n    children: userInfo && /*#__PURE__*/_jsxDEV(UserInfo, {\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"caption\", {\n          children: \"Dina uppgifter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Namn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"F\\xF6rsta resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Senaste resan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Antal resor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Total kostnad f\\xF6r resor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"P\\xE5 kontot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Namn\",\n              children: [\" \", userInfo.username, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"F\\xF6rsta resan\",\n              children: [\" \", userInfo.firstTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Senaste Resan\",\n              children: [\" \", userInfo.lastTrip, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Antal resor\",\n              children: [userInfo.totalNumberOfTrips, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"Total kostnad f\\xF6r resor\",\n              children: [userInfo.totalCost, \":- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              \"data-label\": \"P\\xE5 konton\",\n              children: [userInfo.balance, \":- \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(User, \"vOwY8+j2gC2fzH0Q0HS3gN3jsRk=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/components/User/index.js"],"names":["React","useEffect","useState","Api","Content","UserInfo","User","props","userInfo","setUserInfo","data","populateData","userDetails","trips","totalCost","firstTrip","totalNumberOfTrips","lastTrip","forEach","elem","parseInt","price","date","length","username","balance"],"mappings":"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","sourcesContent":["import {React, useEffect, useState} from \"react\";\nimport Api from \"../../api\";\nimport {Content, UserInfo} from \"./Form.style\"\n\n\n\nexport default function User(props) {\n    // get user by username\n    // Kanske får hämta data redan vid inlogg, \n    // ska ändå hämtas för att kolla om user eller admin\n    const [userInfo, setUserInfo] = useState(null);\n    let data;\n\n    useEffect(() => {\n\n        async function populateData() {\n\n            if (props.userDetails) {\n                data = props.userDetails.data;\n            }\n            if(data && data.trips) {\n                let totalCost = 0;\n                let firstTrip;\n                let totalNumberOfTrips;\n                let lastTrip;\n    \n                data.trips.forEach(elem => {\n                    totalCost += parseInt(elem.price);\n                });\n                \n                firstTrip = data.trips[0].date;\n                totalNumberOfTrips = data.trips.length;\n                lastTrip = data.trips[totalNumberOfTrips-1].date;\n    \n                setUserInfo(({\n                    username: data.username,\n                    totalCost: totalCost,\n                    firstTrip: firstTrip,\n                    totalNumberOfTrips: totalNumberOfTrips,\n                    lastTrip: lastTrip,\n                    balance: data.balance\n                }));\n            }\n        }\n        populateData();\n    }, [])\n\n\treturn (\n        <Content>\n            {userInfo && \n            <UserInfo> \n                <table>\n                <caption>Dina uppgifter</caption>\n                <thead>\n                    <tr>\n                        <th scope=\"col\">Namn</th>\n                        <th scope=\"col\">Första resan</th>\n                        <th scope=\"col\">Senaste resan</th>\n                        <th scope=\"col\">Antal resor</th>\n                        <th scope=\"col\">Total kostnad för resor</th>\n                        <th scope=\"col\">På kontot</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                    <td data-label=\"Namn\"> {userInfo.username} </td>\n                    <td data-label=\"Första resan\"> {userInfo.firstTrip} </td>\n                    <td data-label=\"Senaste Resan\"> {userInfo.lastTrip} </td>\n                    <td data-label=\"Antal resor\">{userInfo.totalNumberOfTrips} </td>\n                    <td data-label=\"Total kostnad för resor\">{userInfo.totalCost}:- </td>\n                    <td data-label=\"På konton\">{userInfo.balance}:- </td>\n                    </tr>\n                </tbody>\n                </table>\n            </UserInfo>\n            }\n        </Content>\n\t);\n}"]},"metadata":{},"sourceType":"module"}