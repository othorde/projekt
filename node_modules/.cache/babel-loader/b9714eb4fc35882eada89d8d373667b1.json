{"ast":null,"code":"var _s = $RefreshSig$();\n\n// import {useState, useEffect} from 'react';\nimport Api from '../api';\nimport { useState, useEffect } from 'react';\nconst options = {\n  enableHighAccuracy: true,\n  timeout: 1000 * 60 * 1,\n  // 1 min\n  maximumAge: 1000 * 60 * 60 // 1 hour\n\n};\n\nconst useCurrentPosition2 = mapRef => {\n  _s();\n\n  console.log(mapRef);\n  const [LoadStationObject, setLoadStationObject] = useState(\"\");\n  const [error1, setError1] = useState();\n\n  const handleSucces = res => {\n    console.log(\"HEj\");\n    var loadStationName;\n    const map = mapRef.current.map;\n    const maps = mapRef.current.maps;\n    res.map(cityCoords => {\n      cityCoords.charging_posts.map(loadStations => {\n        let polyGon = [cityCoords.position.polygonePart1, cityCoords.position.polygonePart2, cityCoords.position.polygonePart3, cityCoords.position.polygonePart4];\n        loadStationName = new maps.Polygon({\n          paths: polyGon,\n          strokeColor: \"yellow\",\n          strokeOpacity: 0.9,\n          strokeWeight: 2,\n          fillColor: \"transparent\",\n          fillOpacity: 0.35\n        });\n        loadStationName.addListener('click', event => {//setLoadStationContent({loadStations});\n        });\n        loadStationName.setMap(map);\n        setLoadStationObject({\n          loadStationName\n        });\n      });\n    });\n  };\n\n  const handleError = error => {\n    setError1(error.message);\n  };\n\n  useEffect(async () => {\n    const {\n      geolocation\n    } = navigator;\n    let res;\n    res = await Api.getAllCitys();\n\n    if (res != null) {\n      handleSucces(res);\n    } else {\n      setError1(\"Error\");\n      return;\n    } // geolocation.getCurrentPosition(handleSucces, handleError, options)\n\n  }, [mapRef]);\n  return {\n    location1,\n    error1\n  };\n};\n\n_s(useCurrentPosition2, \"MEpTTtuflRPfNNTWU8myhu8Fo4E=\");\n\nexport default useCurrentPosition2; // const useLoadStationsForMaps = async (mapRef)  => {\n// \tconst [loadStationObject, setLoadStationObject] = useState(\"\");\n// \tconst [loadStationContent, setLoadStationContent] = useState(\"\");\n// \tconst [loadStationError, setLoadStationError] = useState(\"\");\n//     console.log(mapRef, \"h채채r\")\n//     let res;\n//     useEffect(async () =>  {\n//         res = await Api.getAllCitys();\n//         getCitys(res)\n//     },[mapRef.current]);\n//     const getCitys = (res) => {\n//         console.log(\"HEj\")\n//         // var loadStationName;\n//         // const map = mapRef.current.map;\n//         // const maps = mapRef.current.maps;\n//         // res.map(cityCoords => {\n//         //     cityCoords.charging_posts.map(loadStations => {            \n//         //         let polyGon = \n//         //             ([cityCoords.position.polygonePart1,\n//         //                 cityCoords.position.polygonePart2,\n//         //                 cityCoords.position.polygonePart3,\n//         //                 cityCoords.position.polygonePart4\n//         //             ]);\n//         //         loadStationName = new maps.Polygon({\n//         //             paths: polyGon,\n//         //             strokeColor: \"yellow\",\n//         //             strokeOpacity: 0.9,\n//         //             strokeWeight: 2,\n//         //             fillColor: \"transparent\",\n//         //             fillOpacity: 0.35,\n//         //             });\n//         //     loadStationName.addListener('click', (event) => {\n//         //         //setLoadStationContent({loadStations});\n//         //     });\n//         //     loadStationName.setMap(map);\n//         //     setLoadStationObject(loadStationName);\n//         //     })\n//         // })\n//         console.log(res)\n//     }\n//     return \"res\"\n// };\n// export default useLoadStationsForMaps;\n//     const[location, setLocation] = useState(\"\");\n//     const [error, setError] = useState();\n//     const handleSucces = (pos) => {\n//         const {latitude, longitude } = pos.coords;\n//         setLocation({\n//             latitude,\n//             longitude\n//         });\n//     };\n//     const handleError = (error) => {\n//         setError(error.message);\n//     };\n//     useEffect(() => {\n//         const {geolocation} = navigator;\n//         if (!geolocation) {\n//             setError(\"Geolocation not supported\")\n//             return;\n//         }\n//         geolocation.getCurrentPosition(handleSucces, handleError, options)\n//     },[options])\n//     return {location, error};\n// };","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/Hooks/loadStationsToMap.js"],"names":["Api","useState","useEffect","options","enableHighAccuracy","timeout","maximumAge","useCurrentPosition2","mapRef","console","log","LoadStationObject","setLoadStationObject","error1","setError1","handleSucces","res","loadStationName","map","current","maps","cityCoords","charging_posts","loadStations","polyGon","position","polygonePart1","polygonePart2","polygonePart3","polygonePart4","Polygon","paths","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","addListener","event","setMap","handleError","error","message","geolocation","navigator","getAllCitys","location1"],"mappings":"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","sourcesContent":["// import {useState, useEffect} from 'react';\n\n\n\nimport Api from '../api';\nimport {useState, useEffect} from 'react';\n\nconst options = {\n\tenableHighAccuracy: true,\n\ttimeout: 1000 * 60 * 1, // 1 min\n\tmaximumAge: 1000 * 60 * 60, // 1 hour\n};\n\nconst useCurrentPosition2 = (mapRef) => {\n    console.log(mapRef)\n    const[LoadStationObject, setLoadStationObject] = useState(\"\");\n    const [error1, setError1] = useState();\n    const handleSucces = (res) => {\n\n        console.log(\"HEj\")\n        var loadStationName;\n        const map = mapRef.current.map;\n        const maps = mapRef.current.maps;\n\n        res.map(cityCoords => {\n            cityCoords.charging_posts.map(loadStations => {            \n                let polyGon = \n                    ([cityCoords.position.polygonePart1,\n                        cityCoords.position.polygonePart2,\n                        cityCoords.position.polygonePart3,\n                        cityCoords.position.polygonePart4\n                    ]);\n                loadStationName = new maps.Polygon({\n                    paths: polyGon,\n                    strokeColor: \"yellow\",\n                    strokeOpacity: 0.9,\n                    strokeWeight: 2,\n                    fillColor: \"transparent\",\n                    fillOpacity: 0.35,\n                    });\n            \n            loadStationName.addListener('click', (event) => {\n                //setLoadStationContent({loadStations});\n            });\n            loadStationName.setMap(map);\n            setLoadStationObject({loadStationName});\n            })\n        })\n    };\n\n    const handleError = (error) => {\n        setError1(error.message);\n    };\n\n    useEffect(async () => {\n        const {geolocation} = navigator;\n        let res;\n        res = await Api.getAllCitys();\n        if (res != null) {\n            handleSucces(res);\n        }\n        else {\n            setError1(\"Error\")\n            return;\n        }\n        // geolocation.getCurrentPosition(handleSucces, handleError, options)\n    },[mapRef])\n    \n    return {location1, error1};\n};\nexport default useCurrentPosition2;\n\n\n\n\n\n\n// const useLoadStationsForMaps = async (mapRef)  => {\n// \tconst [loadStationObject, setLoadStationObject] = useState(\"\");\n// \tconst [loadStationContent, setLoadStationContent] = useState(\"\");\n// \tconst [loadStationError, setLoadStationError] = useState(\"\");\n//     console.log(mapRef, \"h채채r\")\n\n//     let res;\n//     useEffect(async () =>  {\n//         res = await Api.getAllCitys();\n//         getCitys(res)\n//     },[mapRef.current]);\n\n\n//     const getCitys = (res) => {\n\n//         console.log(\"HEj\")\n//         // var loadStationName;\n//         // const map = mapRef.current.map;\n//         // const maps = mapRef.current.maps;\n\n//         // res.map(cityCoords => {\n//         //     cityCoords.charging_posts.map(loadStations => {            \n//         //         let polyGon = \n//         //             ([cityCoords.position.polygonePart1,\n//         //                 cityCoords.position.polygonePart2,\n//         //                 cityCoords.position.polygonePart3,\n//         //                 cityCoords.position.polygonePart4\n//         //             ]);\n//         //         loadStationName = new maps.Polygon({\n//         //             paths: polyGon,\n//         //             strokeColor: \"yellow\",\n//         //             strokeOpacity: 0.9,\n//         //             strokeWeight: 2,\n//         //             fillColor: \"transparent\",\n//         //             fillOpacity: 0.35,\n//         //             });\n            \n//         //     loadStationName.addListener('click', (event) => {\n//         //         //setLoadStationContent({loadStations});\n//         //     });\n//         //     loadStationName.setMap(map);\n//         //     setLoadStationObject(loadStationName);\n//         //     })\n//         // })\n//         console.log(res)\n//     }\n\n    \n//     return \"res\"\n\n// };\n// export default useLoadStationsForMaps;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//     const[location, setLocation] = useState(\"\");\n//     const [error, setError] = useState();\n//     const handleSucces = (pos) => {\n//         const {latitude, longitude } = pos.coords;\n\n//         setLocation({\n//             latitude,\n//             longitude\n//         });\n//     };\n\n//     const handleError = (error) => {\n//         setError(error.message);\n//     };\n\n//     useEffect(() => {\n//         const {geolocation} = navigator;\n\n//         if (!geolocation) {\n//             setError(\"Geolocation not supported\")\n//             return;\n//         }\n//         geolocation.getCurrentPosition(handleSucces, handleError, options)\n//     },[options])\n\n//     return {location, error};\n// };\n"]},"metadata":{},"sourceType":"module"}