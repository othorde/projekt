{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Othor\\\\dbwebb-kurser\\\\frontendphp\\\\webbclient\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useState,useEffect}from'react';/* useCurrentPosition används av Map komponenten. Hämtar användarens position \n   Options är hur länge location ska sparas, tas alltså mot av Map.\n   Retunerar position och error.\n*/var useCurrentPosition=function useCurrentPosition(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),location=_useState2[0],setLocation=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// Om det går att hämta position\nvar handleSucces=function handleSucces(pos){var _pos$coords=pos.coords,latitude=_pos$coords.latitude,longitude=_pos$coords.longitude;setLocation({latitude:latitude,longitude:longitude});};var handleError=function handleError(error){setError(error.message);};// Vid mount eller om options ändras.\n// skickar till handelSuccess & error \nuseEffect(function(){var _navigator=navigator,geolocation=_navigator.geolocation;if(!geolocation){setError(\"Geolocation not supported\");return;}geolocation.getCurrentPosition(handleSucces,handleError,options);},[options]);return{location:location,error:error};};export default useCurrentPosition;","map":{"version":3,"sources":["C:/Users/Othor/dbwebb-kurser/frontendphp/webbclient/src/Hooks/useCurrentPosition.js"],"names":["useState","useEffect","useCurrentPosition","options","location","setLocation","error","setError","handleSucces","pos","coords","latitude","longitude","handleError","message","navigator","geolocation","getCurrentPosition"],"mappings":"oJAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CAEA;AACA;AACA;AACA,EACA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAgB,IAAfC,CAAAA,OAAe,2DAAP,EAAO,CAEvC,cAAgCH,QAAQ,CAAC,EAAD,CAAxC,wCAAOI,QAAP,eAAiBC,WAAjB,eACA,eAA0BL,QAAQ,EAAlC,yCAAOM,KAAP,eAAcC,QAAd,eAEA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,GAAD,CAAS,CAC1B,gBAA+BA,GAAG,CAACC,MAAnC,CAAOC,QAAP,aAAOA,QAAP,CAAiBC,SAAjB,aAAiBA,SAAjB,CACAP,WAAW,CAAC,CACRM,QAAQ,CAARA,QADQ,CAERC,SAAS,CAATA,SAFQ,CAAD,CAAX,CAIH,CAND,CAQA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACP,KAAD,CAAW,CAC3BC,QAAQ,CAACD,KAAK,CAACQ,OAAP,CAAR,CACH,CAFD,CAIA;AACA;AACAb,SAAS,CAAC,UAAM,CACZ,eAAsBc,SAAtB,CAAOC,WAAP,YAAOA,WAAP,CACA,GAAI,CAACA,WAAL,CAAkB,CACdT,QAAQ,CAAC,2BAAD,CAAR,CACA,OACH,CACDS,WAAW,CAACC,kBAAZ,CAA+BT,YAA/B,CAA6CK,WAA7C,CAA0DV,OAA1D,EACH,CAPQ,CAOP,CAACA,OAAD,CAPO,CAAT,CASA,MAAO,CAACC,QAAQ,CAARA,QAAD,CAAWE,KAAK,CAALA,KAAX,CAAP,CACH,CA9BD,CA+BA,cAAeJ,CAAAA,kBAAf","sourcesContent":["import {useState, useEffect} from 'react';\n\n/* useCurrentPosition används av Map komponenten. Hämtar användarens position \n   Options är hur länge location ska sparas, tas alltså mot av Map.\n   Retunerar position och error.\n*/\nconst useCurrentPosition = (options={}) => {\n\n    const [location, setLocation] = useState(\"\");\n    const [error, setError] = useState();\n    \n    // Om det går att hämta position\n    const handleSucces = (pos) => {\n        const {latitude, longitude } = pos.coords;\n        setLocation({\n            latitude,\n            longitude\n        });\n    };\n\n    const handleError = (error) => {\n        setError(error.message);\n    };\n\n    // Vid mount eller om options ändras.\n    // skickar till handelSuccess & error \n    useEffect(() => {\n        const {geolocation} = navigator;\n        if (!geolocation) {\n            setError(\"Geolocation not supported\");\n            return;\n        }\n        geolocation.getCurrentPosition(handleSucces, handleError, options);\n    },[options])\n\n    return {location, error};\n};\nexport default useCurrentPosition;"]},"metadata":{},"sourceType":"module"}